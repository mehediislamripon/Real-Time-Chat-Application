(()=>{"use strict";const e=document.getElementById("chat-form"),n=document.querySelector(".chat-messages"),t=document.getElementById("room-name"),s=document.getElementById("users"),o=Qs.parse(location.search,{ignoreQueryPrefix:!0}),r=o.username,a=o.room,m=io();m.on("usernameError",e=>{alert(e),window.location.href="/"}),m.emit("joinRoom",{username:r,room:a}),m.on("roomUsers",e=>{var n,o;n=e.room,t.innerHTML=n,o=e.users,s.innerHTML=`\n    ${o.map(e=>`<li>${e.username}</li>`).join("")}\n  `}),m.on("message",e=>{!function(e){const t=document.createElement("div");t.classList.add("message"),t.innerHTML=`<p class="meta">${e.username} <span>${e.time}</span></p>\n   <p class="text">\n      ${e.text}\n   </p>`,n.appendChild(t)}(e),n.scrollTop=n.scrollHeight}),e.addEventListener("submit",e=>{e.preventDefault();const n=e.target.elements.namedItem("msg"),t=n.value;m.emit("chatMessage",t),n.value="",n.focus()})})();
//# sourceMappingURL=script.js.map